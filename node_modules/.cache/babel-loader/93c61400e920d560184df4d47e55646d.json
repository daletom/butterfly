{"ast":null,"code":"var _jsxFileName = \"/Users/tom/Documents/GitHub/butterfly/src/App.js\";\nimport React from 'react';\nconst imgixAPI = \"https://tom.imgix.net/butterfly_0\";\nconst imgixImages = new Array(24).fill(imgixAPI).map((e, i) => e + (i + 1) + \".jpeg?'auto=format,compress&cs=tinysrgb&fit=crop&crop=entropy&ar=3:2\");\n\nfunction App() {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"h-screen flex justify-center items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 8,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"max-w-sm rounded overflow-hidden shadow-lg p-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 9,\n      columnNumber: 5\n    }\n  }, imgixImages.map((item, key) => /*#__PURE__*/React.createElement(LazyImage, {\n    src: item,\n    key: key,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 11,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"px-6 py-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"font-bold text-xl mb-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 9\n    }\n  }, \" React-Tailwind \"), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"text-gray-700 text-base\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 9\n    }\n  }, \"A React Starter with Tailwind CSS\"))));\n}\n\nconst LazyImage = ({\n  src\n}) => {\n  const rootRef = useRef();\n  const [isVisible, setIsVisible] = useState(false);\n  const loading = 'https://tom.imgix.net/butterfly_021.jpeg?auto=format,compress&w=20&q=1';\n  useEffect(() => {\n    const defaultIntersectionOptions = {\n      threshold: 0,\n      rootMargin: '500px'\n    };\n\n    const checkIntersections = entries => {\n      entries.forEach(entry => {\n        if (entry.isIntersecting) {\n          setIsVisible(true);\n        }\n      });\n    };\n\n    if (!isVisible) {\n      const newIO = new IntersectionObserver(checkIntersections, defaultIntersectionOptions);\n      newIO.observe(rootRef.current);\n      return () => newIO.disconnect();\n    }\n  }, [isVisible]);\n  return /*#__PURE__*/React.createElement(\"img\", {\n    src: isVisible ? src : loading,\n    ref: rootRef,\n    srcset: isVisible ? src + '&w=1000 1000w, ' + src + '&w=1200 1200w, ' + src + '&w=1400 1400w' : '',\n    sizes: \"(min-width: 1240px) 30vw, 90vw\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 6\n    }\n  });\n};\n\nexport default App;","map":{"version":3,"sources":["/Users/tom/Documents/GitHub/butterfly/src/App.js"],"names":["React","imgixAPI","imgixImages","Array","fill","map","e","i","App","item","key","LazyImage","src","rootRef","useRef","isVisible","setIsVisible","useState","loading","useEffect","defaultIntersectionOptions","threshold","rootMargin","checkIntersections","entries","forEach","entry","isIntersecting","newIO","IntersectionObserver","observe","current","disconnect"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,MAAMC,QAAQ,GAAG,mCAAjB;AACA,MAAMC,WAAW,GAAG,IAAIC,KAAJ,CAAU,EAAV,EAAcC,IAAd,CAAmBH,QAAnB,EAA6BI,GAA7B,CAAiC,CAACC,CAAD,EAAIC,CAAJ,KAAUD,CAAC,IAAIC,CAAC,GAAG,CAAR,CAAD,GAAc,sEAAzD,CAApB;;AAEA,SAASC,GAAT,GAAe;AACb,sBACE;AAAK,IAAA,SAAS,EAAC,2CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACA;AAAK,IAAA,SAAS,EAAC,gDAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACEN,WAAW,CAACG,GAAZ,CAAgB,CAACI,IAAD,EAAOC,GAAP,kBACd,oBAAC,SAAD;AAAW,IAAA,GAAG,EAAED,IAAhB;AAAsB,IAAA,GAAG,EAAEC,GAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,eAIE;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,wBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,eAEE;AAAG,IAAA,SAAS,EAAC,yBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yCAFF,CAJF,CADA,CADF;AAeD;;AAED,MAAMC,SAAS,GAAG,CAAC;AAACC,EAAAA;AAAD,CAAD,KAAW;AAC3B,QAAMC,OAAO,GAAGC,MAAM,EAAtB;AACA,QAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4BC,QAAQ,CAAC,KAAD,CAA1C;AACA,QAAMC,OAAO,GAAG,wEAAhB;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMC,0BAA0B,GAAG;AACjCC,MAAAA,SAAS,EAAE,CADsB;AAEjCC,MAAAA,UAAU,EAAE;AAFqB,KAAnC;;AAKA,UAAMC,kBAAkB,GAAGC,OAAO,IAAI;AACpCA,MAAAA,OAAO,CAACC,OAAR,CAAgBC,KAAK,IAAI;AACvB,YAAIA,KAAK,CAACC,cAAV,EAA0B;AACxBX,UAAAA,YAAY,CAAC,IAAD,CAAZ;AACD;AACF,OAJD;AAKD,KAND;;AAQA,QAAI,CAACD,SAAL,EAAgB;AACd,YAAMa,KAAK,GAAG,IAAIC,oBAAJ,CAAyBN,kBAAzB,EAA6CH,0BAA7C,CAAd;AACAQ,MAAAA,KAAK,CAACE,OAAN,CAAcjB,OAAO,CAACkB,OAAtB;AACA,aAAO,MAAMH,KAAK,CAACI,UAAN,EAAb;AACD;AACF,GAnBQ,EAmBN,CAACjB,SAAD,CAnBM,CAAT;AAqBD,sBACI;AAAK,IAAA,GAAG,EAAEA,SAAS,GAAGH,GAAH,GAASM,OAA5B;AAAqC,IAAA,GAAG,EAAEL,OAA1C;AAAmD,IAAA,MAAM,EAAEE,SAAS,GAAGH,GAAG,GAAG,iBAAN,GAA0BA,GAA1B,GAAgC,iBAAhC,GAAoDA,GAApD,GAA0D,eAA7D,GAA8E,EAAlJ;AAAsJ,IAAA,KAAK,EAAC,gCAA5J;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ;AAGA,CA7BD;;AA+BA,eAAeJ,GAAf","sourcesContent":["import React from 'react';\n\nconst imgixAPI = \"https://tom.imgix.net/butterfly_0\";\nconst imgixImages = new Array(24).fill(imgixAPI).map((e, i) => e + (i + 1) + \".jpeg?'auto=format,compress&cs=tinysrgb&fit=crop&crop=entropy&ar=3:2\");\n\nfunction App() {\n  return (\n    <div className=\"h-screen flex justify-center items-center\">\n    <div className=\"max-w-sm rounded overflow-hidden shadow-lg p-4\">\n    { imgixImages.map((item, key) =>\n        <LazyImage src={item} key={key} />\n      )}\n      <div className=\"px-6 py-4\">\n        <div className=\"font-bold text-xl mb-2\"> React-Tailwind </div>\n        <p className=\"text-gray-700 text-base\">\n          A React Starter with Tailwind CSS\n        </p>\n      </div>\n    </div>\n  </div>\n  );\n}\n\nconst LazyImage = ({src}) => {\n  const rootRef = useRef();\n  const [isVisible, setIsVisible] = useState(false);\n  const loading = 'https://tom.imgix.net/butterfly_021.jpeg?auto=format,compress&w=20&q=1';\n\n  useEffect(() => {\n    const defaultIntersectionOptions = {\n      threshold: 0,\n      rootMargin: '500px',\n    };\n    \n    const checkIntersections = entries => {\n      entries.forEach(entry => {\n        if (entry.isIntersecting) {\n          setIsVisible(true);\n        }\n      });\n    };\n\n    if (!isVisible) {\n      const newIO = new IntersectionObserver(checkIntersections, defaultIntersectionOptions);\n      newIO.observe(rootRef.current);\n      return () => newIO.disconnect();\n    }\n  }, [isVisible]);\n\n\treturn (\n     <img src={isVisible ? src : loading} ref={rootRef} srcset={isVisible ? src + '&w=1000 1000w, ' + src + '&w=1200 1200w, ' + src + '&w=1400 1400w': ''} sizes=\"(min-width: 1240px) 30vw, 90vw\" />\n\t);\n};\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}